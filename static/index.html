<!DOCTYPE html>
<html ng-app="app">
<head>
	<title></title>

	<script type="text/javascript" src="angular.js"></script>
	<!-- // <script type="text/javascript" src="angular-route.js"></script> -->
	<script type="text/javascript">

		angular.module('app', [])
		.controller('ctrl', ['$scope', '$http', function($scope, $http) {
			$http.get('http://localhost:8080/scores/all').then(function(response) {
				$scope.highscores = response.data;
			});

			$scope.username = 'JONN';
			$scope.score = 5;

			$scope.addScore = function() {
				$http.post('http://localhost:8080/scores/add', {
					username: $scope.username,
					score: $scope.score,
					time: Date.now()
				})
				.then(function(response) {
					$scope.highscores.push(response.data);
				});
			}
		}]);

	</script>
</head>
<body ng-controller="ctrl">

	<ol>
		<li ng-repeat="highscore in highscores | orderBy:'-score'">
			{{highscore.username}}: {{highscore.score}}
		</li>
	</ol>
	<input placeholder="Username" ng-model="username">
	<input placeholder="Score" ng-model="score" type="number">
	<button ng-click="addScore()">Submit fgt</button>

</body>
</html>